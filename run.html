<!doctype html>
<html>
<body style="margin:0;background:#000;">
<canvas id="c" style="width:100vw;height:100vh;display:block;pointer-events:none;"></canvas>

<div id="ui"
style="
position:fixed;
left:10px;top:10px;
padding:10px;
background:rgba(0,0,0,0.55);
backdrop-filter:blur(6px);
border:1px solid rgba(255,255,255,0.15);
border-radius:12px;
font-family:system-ui;
color:white;
pointer-events:auto;">
  wind: <span id="windVal">0</span> m/s²<br>
  <input id="wind" type="range" min="-20" max="20" step="0.1" value="0" style="width:200px;"><br><br>

  gravity g: <span id="gravVal">9.81</span> m/s²<br>
  <input id="grav" type="range" min="0" max="25" step="0.01" value="9.81" style="width:200px;"><br><br>

  elasticity e: <span id="eVal">0.90</span><br>
  <input id="elastic" type="range" min="0" max="1" step="0.01" value="0.90" style="width:200px;"><br><br>

  drag c: <span id="dragVal">0.40</span><br>
  <input id="drag" type="range" min="0" max="2" step="0.01" value="0.40" style="width:200px;">
</div>

<script>
const c=document.getElementById("c"),ctx=c.getContext("2d");
function resize(){c.width=c.clientWidth;c.height=c.clientHeight}
window.addEventListener("resize",resize);resize();

let ppm=200;
let xPos=(c.width/ppm)/2;
let yPos=0.5;
let vx=0, vy=0;
let g=9.81, wind=0, e=0.90, drag=0.40;
let rpx=25;
let dragging=false;

function loop(){
  if(!dragging){
    vx += wind*0.016;
    vx += -drag*vx*0.016;

    vy += g*0.016;
    vy += -drag*vy*0.016;

    xPos+=vx*0.016; yPos+=vy*0.016;
  }

  let W=c.width/ppm,H=c.height/ppm,r=rpx/ppm;
  if(xPos+r>=W){xPos=W-r;vx=-vx*e;}
  if(xPos-r<=0){xPos=r;vx=-vx*e;}
  if(yPos+r>=H){yPos=H-r;vy=-vy*e;}
  if(yPos-r<=0){yPos=r;vy=-vy*e;}

  ctx.clearRect(0,0,c.width,c.height);
  ctx.beginPath(); ctx.arc(xPos*ppm,yPos*ppm,rpx,0,Math.PI*2);
  ctx.fillStyle="#3cf"; ctx.fill();

  requestAnimationFrame(loop);
}
requestAnimationFrame(loop);

// dragging
window.addEventListener("pointerdown",e=>{
  const rect=c.getBoundingClientRect();
  const mx=e.clientX-rect.left,my=e.clientY-rect.top;
  if((mx-xPos*ppm)**2+(my-yPos*ppm)**2<=rpx*rpx) dragging=true;
});
window.addEventListener("pointermove",e=>{
  if(!dragging)return;
  const rect=c.getBoundingClientRect();
  xPos=(e.clientX-rect.left)/ppm;
  yPos=(e.clientY-rect.top)/ppm;
  vx=vy=0;
});
window.addEventListener("pointerup",()=>dragging=false);

// sliders
document.getElementById("wind").oninput = e=>{
  wind=parseFloat(e.target.value);
  document.getElementById("windVal").textContent=wind;
};
document.getElementById("grav").oninput = e=>{
  g=parseFloat(e.target.value);
  document.getElementById("gravVal").textContent=g.toFixed(2);
};
document.getElementById("elastic").oninput = e=>{
  e=parseFloat(e.target.value);
  document.getElementById("eVal").textContent=e.toFixed(2);
};
document.getElementById("drag").oninput = e=>{
  drag=parseFloat(e.target.value);
  document.getElementById("dragVal").textContent=drag.toFixed(2);
};
</script>
</body>
</html>